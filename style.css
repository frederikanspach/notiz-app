:root {
  /* BESTEHENDE VARIABLEN */
  --background-primary: #f4f6f8;
  --background-note: #ffffff;
  --text-header: #007aff;
  --text-main: #1d1d1f;
  --text-sub: #636366;
  --accent-color: #007aff;
  --border-color: #d1d1d6;
  --border-active-color: #007aff;

  --dark-background-primary: #121212;
  --dark-background-note: #1e1e1e;
  --dark-text-header: #0a84ff;
  --dark-text-main: #ededed;
  --dark-text-sub: #8a8a8e;
  --dark-accent-color: #0464c4;
  --dark-border-color: #3a3a3c;
  --dark-border-active-color: #0754a1;

  --warn-color: #ff3b30;

  /* NEUE LIQUID GLASS VARS */
  --glass-blur: 20px; /* Stärke der Unschärfe für Sidebar */
  --glass-header-blur: 10px; /* Leichtere Unschärfe für sticky Header */
  --glass-bg-opacity-light: 0.8; /* Deckkraft des Glass-Hintergrunds Light Mode */
  --glass-bg-opacity-dark: 0.2; /* Deckkraft des Glass-Hintergrunds Dark Mode */
  --glass-border-color: rgba(255, 255, 255, 0.1); /* Helle, subtile Glas-Outline */

  scroll-behavior: smooth;
  font-family: Roboto, Arial, Tahoma;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background-color: var(--background-primary);
  color: var(--text-main);
}

main {
  display: flex;
}

/* ---------------------------------- */
/* LIQUID GLASS: SIDEBAR */
/* ---------------------------------- */
.left-side {
  width: 400px;
  height: 100lvh;
  padding: 1rem;
  overflow: auto;
  
  /* GLASS EFFEKT */
  background-color: rgba(244, 246, 248, var(--glass-bg-opacity-light));
  border-right: 1px solid var(--glass-border-color); /* Subtile Glas-Linie */
  backdrop-filter: blur(var(--glass-blur));
}

/* ---------------------------------- */
/* LIQUID GLASS: STICKY HEADER */
/* ---------------------------------- */
.side-header {
  position: sticky;
  top: 0;
  z-index: 100; /* Höher, um über der Liste zu schweben */
  padding: 0 0 1rem 0;
  
  /* GLASS EFFEKT */
  background-color: rgba(244, 246, 248, 0.9); /* Etwas weniger transparent als Sidebar */
  backdrop-filter: blur(var(--glass-header-blur));
}

/* ---------------------------------- */
/* LIQUID GLASS: NEW NOTE BUTTON (FAB LOOK) */
/* ---------------------------------- */
.new-note-button {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  color: white; /* Textfarbe auf Weiß gesetzt für besseren Kontrast */
  font-size: 1rem;
  
  /* NEUER STYLE: Tiefe und Liquid-Farbe */
  background: linear-gradient(145deg, var(--accent-color) 0%, #0060c0 100%);
  border: none;
  border-radius: 12px; /* Etwas runder */
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94); /* Flüssigere Animation */
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
  
  padding: 1rem;
  margin: 0.5rem 0rem;
}

.new-note-button:hover {
  /* filter: brightness(0.8); <- Entfernt */
  transform: translateY(-2px); /* Subtiler "Lift"-Effekt */
  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
}

.new-note-button:active {
  transform: translateY(1px); /* "Push"-Effekt */
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

svg {
  width: 50px;
  height: 50px;
  padding: 0.3rem;
}

.new-note-button img {
  width: 50px;
  height: 50px;
}

/* ---------------------------------- */
/* LIQUID GLASS: NOTE CARDS (LAYERED LOOK) */
/* ---------------------------------- */
.side-card {
  display: flex;
  flex-direction: column;
  width: 100%;
  
  background-color: var(--background-note);
  
  /* NEUER STYLE: Tiefe und Layering */
  border: 0.5px solid var(--glass-border-color);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05), 0 1px 3px rgba(0, 0, 0, 0.02);
  border-radius: 10px; /* Runder für einen flüssigeren Look */
  padding: 0.75rem;
  margin: 0.5rem 0rem;
  gap: 0.5rem;
  transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.side-card:hover {
  filter: none; /* filter: brightness(0.8) entfernt */
  transform: translateY(-2px); /* Subtiler "Lift" bei Hover */
  box-shadow: 0 8px 12px rgba(0, 0, 0, 0.1), 0 3px 6px rgba(0, 0, 0, 0.05); /* Stärkerer Schatten */
  transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.side-card:not(.side-card-active) {
  cursor: pointer;
}

.side-card-active {
  background-color: var(--accent-color);
  border-color: var(--accent-color);
  color: #ffffff; /* Text wird weiß */
  cursor: default;
  box-shadow: 0 0 15px rgba(0, 122, 255, 0.5); /* Leuchtender Schatten */
}

.side-card-active:hover {
  filter: none;
  transform: none;
  box-shadow: 0 0 15px rgba(0, 122, 255, 0.5);
}

.side-card-active p,
.side-card-active .time {
  color: rgba(255, 255, 255, 0.8); /* Subtiler Text */
}

.side-card h2 {
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
}

.side-card p {
  color: var(--text-sub);
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
}

.time {
  font-size: 0.75rem;
  color: var(--text-sub);
  text-align: right;
  font-style: italic;
}

.right-side {
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 1rem;
  gap: 1rem;
}

.note-header {
  display: flex;
  width: 100%;
  gap: 0.5rem;
}

#input-note-header {
  font-size: 3rem;
  font-weight: 700;
  width: 100%;
  border: none;
  color: var(--text-header);
  background-color: var(--background-primary);
}

#input-note-header:focus {
  outline: none;
}

.button-option {
  border: none;
  background-color: var(--background-primary);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
}

.button-option img {
  height: 50px;
  width: 50px;
  border: none;
  border-radius: 5px;
}

.button-option img:hover {
  filter: brightness(0.8);
}

.delete-all-notes path {
  stroke: var(--warn-color) !important;
}

.delete-all-notes circle {
  fill: var(--warn-color) !important;
}

.button-mini {
  display: inline-block;
  background-color: transparent;
  border: none;
  vertical-align: bottom;
}

.button-mini svg {
  height: 24px;
  width: 24px;
  display: inline-block;
  background-color: transparent;
  border: none;
  vertical-align: bottom;
}

.note-body {
  width: 100%;
  height: 80lvh;
}

#input-note-body {
  width: 100%;
  height: 100%;
  font-size: 1.5rem;
  border: none;
  background-color: var(--background-primary);
  color: var(--text-main);
}

#input-note-header::placeholder,
#input-note-body::placeholder {
  color: var(--text-sub);
}

#input-note-body:focus {
  outline: none;
}

textarea {
  resize: none;
}

#bottom {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 0.5rem;
}

.mode-toggle {
  border: none;
  padding: 4px;
  width: 72px;
  border-radius: 20px;
  cursor: pointer;
  position: relative;
}

body[data-theme="light"] .mode-toggle {
  background: linear-gradient(90deg, #fba53a 0%, #fce047 100%);
}

body[data-theme="dark"] .mode-toggle {
  background: linear-gradient(90deg, #00487a 0%, #26a2e0 100%);
}

.mode-toggle > span {
  position: relative;
  display: block;
  width: 32px;
  height: 32px;
  border-radius: 100%;
  background-color: #0b2342;
  box-shadow: 0px 1px 1px rgba(3, 7, 18, 0.06), 0px 2px 5px rgba(3, 7, 18, 0.12),
    0px 5px 12px rgba(3, 7, 18, 0.18), 0px 10px 20px rgba(3, 7, 18, 0.24),
    0px 15px 32px rgba(3, 7, 18, 0.3);
  left: 0;
  transition: all 300ms ease-in-out;
}

body[data-theme="light"] .mode-toggle > span {
  background-color: white;
  left: 100%;
  transform: translateX(-100%);
}

.mode-toggle > span > img {
  height: 24px;
  width: 24px;
  position: absolute;
  top: 4px;
  left: 4px;
  transition: all 300ms ease-in-out;
}

body[data-theme="dark"] .mode-toggle > span > img:nth-child(1) {
  opacity: 0;
}

body[data-theme="dark"] .mode-toggle > span > img:nth-child(2) {
  opacity: 1;
}

body[data-theme="light"] .mode-toggle > span > img:nth-child(1) {
  opacity: 1;
  transform: rotate(60deg);
}

body[data-theme="light"] .mode-toggle > span > img:nth-child(2) {
  opacity: 0;
  transform: rotate(60deg);
}

/* ---------------------------------- */
/* DARK MODE ANPASSUNGEN */
/* ---------------------------------- */
body[data-theme="dark"] {
  /* Globale überschreiben */
  background-color: var(--dark-background-primary);
  color: var(--dark-text-main);

  /* Standard-Variablen auf Dark-Werte */
  --background-primary: var(--dark-background-primary);
  --background-note: var(--dark-background-note);
  --text-header: var(--dark-text-header);
  --text-main: var(--dark-text-main);
  --text-sub: var(--dark-text-sub);
  --accent-color: var(--dark-accent-color);
  --border-color: var(--dark-border-color);
  
  /* GLASS EFFEKT IM DARK MODE */
  --glass-border-color: rgba(60, 60, 60, 0.5); 
}

body[data-theme="dark"] .left-side {
  background-color: rgba(18, 18, 18, var(--glass-bg-opacity-dark));
}

body[data-theme="dark"] .side-header {
  background-color: rgba(18, 18, 18, 0.4); /* Etwas höhere Opazität für Sticky */
}

/* ---------------------------------- */
/* MOBILE ANPASSUNGEN (NEU VERKLEINERT) */
/* ---------------------------------- */
@media (max-width: 900px) {
  /* Neue Verkleinerung für Icons */
  .new-note-button img {
    width: 20px; /* Reduziert von 25px */
    height: 20px;
  }

  .button-option img {
    height: 32px; /* Reduziert von 40px */
    width: 32px;
  }

  .left-side {
    width: 300px;
    height: 100lvh;
    padding: 0.3rem;
  }

  .new-note-button {
    font-size: 1rem;
    padding: 0.3rem;
  }

  /* Neue Verkleinerung für Text */
  .side-card {
    font-size: 0.7rem; /* Reduziert von 0.8rem */
    padding: 0.3rem;
    margin: 0.3rem 0rem;
    gap: 0.3rem;
  }

  .time {
    font-size: 0.7rem;
  }

  .right-side {
    padding: 0.3rem;
    gap: 0.3rem;
  }

  .note-header {
    gap: 0.3rem;
  }

  #input-note-header {
    font-size: 1.25rem; /* Reduziert von 1.5rem */
    font-weight: 600;
  }

  /* Icons bleiben bei 32px, siehe oben */
  /* .button-option img {
    height: 32px; 
    width: 32px;
  } */

  #input-note-body {
    font-size: 0.9rem; /* Reduziert von 1rem */
  }
}
